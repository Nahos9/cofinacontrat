import{r as E}from"./validators-be8c4c00.js";import{_ as G}from"./AppTextarea-fc7a54f9.js";import{_ as T}from"./AppDateTimePicker-cb72b21d.js";import{_ as k}from"./AppSelect-f486f450.js";import{_ as p}from"./AppTextField-4144e217.js";import{u as A}from"./useApi-f6bf8dd7.js";import{c as B}from"./createUrl-376a4625.js";import{V as m}from"./VRow-5bf9819c.js";import{V as n}from"./VCol-bbc947c1.js";import{V as N}from"./VSlider-96233bbb.js";import{V as P}from"./VTextField-31ac9b36.js";import{ah as D,a1 as $,r as I,w as h,a as j,o as _,f,e as r,d as c,b as a,s as t,N as z,Z as O}from"./main-35f434e5.js";import{V as S}from"./VCard-de226d5c.js";const F={class:"pa-5 flex-grow-1"},H={class:"d-flex flex-column justify-space-between border-s pa-1"},le={__name:"GuaranteeEdit",props:{id:{type:Number,required:!0},data:{type:Object,required:!0,default:()=>({type_of_guarantee_id:1,expiration_date:"",value:"",comment:"",montant:"",duree:"",date_debut:"",taux_annuel:""})}},emits:["removeGuarantee"],async setup(V,{emit:b}){let d,s;const i=V,y=b,{data:x}=([d,s]=D(()=>A(B("/type-of-guarantee",{query:{paginate:0}}))),d=await d,s(),d),v=$(()=>x.value.data),e=I(i.data);console.log("local",e);const g=()=>{y("removeGuarantee",i.id)};return h(()=>e.value.type_of_guarantee_id,u=>{u===2?e.value.expiration_date="":u===3&&(e.value.value="")}),(u,l)=>{const w=k,C=T,U=G,q=j("IconBtn");return _(),f(S,{flat:"",border:"",class:"d-flex flex-row"},{default:r(()=>[c("div",F,[a(m,null,{default:r(()=>[a(n,{cols:"12"},{default:r(()=>[a(w,{modelValue:t(e).type_of_guarantee_id,"onUpdate:modelValue":l[0]||(l[0]=o=>t(e).type_of_guarantee_id=o),items:t(v),"item-title":"name","item-value":"id",label:"Type de garantie",placeholder:"Choisir le type de garantie",class:"mb-3",rules:["requiredValidator"in u?u.requiredValidator:t(E)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1}),t(e).type_of_guarantee_id===14?(_(),f(m,{key:0},{default:r(()=>[a(n,{cols:"12"},{default:r(()=>[a(p,{modelValue:t(e).montant,"onUpdate:modelValue":l[1]||(l[1]=o=>t(e).montant=o),label:"Montant",type:"number",placeholder:"Entrer le montant"},null,8,["modelValue"])]),_:1}),a(n,{cols:"12"},{default:r(()=>[a(p,{modelValue:t(e).duree,"onUpdate:modelValue":l[2]||(l[2]=o=>t(e).duree=o),label:"Duré du PEP",placeholder:"Entrer la durée"},null,8,["modelValue"])]),_:1}),a(n,{cols:"12"},{default:r(()=>[a(C,{modelValue:t(e).date_debut,"onUpdate:modelValue":l[3]||(l[3]=o=>t(e).date_debut=o),label:"Date du debut PEP"},null,8,["modelValue"])]),_:1}),a(n,{cols:"12"},{default:r(()=>[a(N,{modelValue:t(e).taux_annuel,"onUpdate:modelValue":l[5]||(l[5]=o=>t(e).taux_annuel=o),label:"Taux d'intérêt HT(%)","thumb-size":15,"thumb-label":"always",step:"0.1"},{append:r(()=>[a(P,{modelValue:t(e).taux_annuel,"onUpdate:modelValue":l[4]||(l[4]=o=>t(e).taux_annuel=o),type:"number",style:{width:"80px"},density:"compact","hide-details":"",variant:"outlined",suffix:"%"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})):z("",!0),a(m,null,{default:r(()=>[a(n,{cols:"12"},{default:r(()=>[a(U,{modelValue:t(e).comment,"onUpdate:modelValue":l[6]||(l[6]=o=>t(e).comment=o),rows:"2",label:"Commentaire",placeholder:"Entrer un commentaire sur la garantie"},null,8,["modelValue"])]),_:1})]),_:1})]),c("div",H,[a(q,{onClick:g},{default:r(()=>[a(O,{size:"20",icon:"tabler-x"})]),_:1})])]),_:1})}}};export{le as _};
