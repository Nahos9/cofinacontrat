import{r as k}from"./validators-be8c4c00.js";import{_ as G}from"./AppTextarea-393d383d.js";import{_ as T}from"./AppDateTimePicker-ab2852dd.js";import{_ as A}from"./AppSelect-a9004238.js";import{_ as u}from"./AppTextField-973e7013.js";import{u as B}from"./useApi-0b8c4c7e.js";import{c as N}from"./createUrl-2823fee2.js";import{V as s}from"./VRow-ce7baa34.js";import{V as n}from"./VCol-e2ec769f.js";import{V as P}from"./VSlider-2f1b8cfa.js";import{V as D}from"./VTextField-99f7b7bb.js";import{ah as $,a1 as I,r as S,w as j,a as z,o as i,f as p,e as r,d as V,b as t,s as a,N as c,Z as M}from"./main-2c7b2f02.js";import{V as O}from"./VCard-d4db518d.js";const F={class:"pa-5 flex-grow-1"},H={class:"d-flex flex-column justify-space-between border-s pa-1"},le={__name:"GuaranteeEdit",props:{id:{type:Number,required:!0},data:{type:Object,required:!0,default:()=>({type_of_guarantee_id:1,expiration_date:"",value:"",comment:"",montant:"",duree:"",date_debut:"",taux_annuel:"",commune:"",adresse:"",superficie:"",montant_terrain:""})}},emits:["removeGuarantee"],async setup(b,{emit:y}){let m,f;const _=b,x=y,{data:g}=([m,f]=$(()=>B(N("/type-of-guarantee",{query:{paginate:0}}))),m=await m,f(),m),v=I(()=>g.value.data),e=S(_.data);console.log("local",e);const U=()=>{x("removeGuarantee",_.id)};return j(()=>e.value.type_of_guarantee_id,d=>{d===2?e.value.expiration_date="":d===3&&(e.value.value="")}),(d,l)=>{const w=A,C=T,E=G,q=z("IconBtn");return i(),p(O,{flat:"",border:"",class:"d-flex flex-row"},{default:r(()=>[V("div",F,[t(s,null,{default:r(()=>[t(n,{cols:"12"},{default:r(()=>[t(w,{modelValue:a(e).type_of_guarantee_id,"onUpdate:modelValue":l[0]||(l[0]=o=>a(e).type_of_guarantee_id=o),items:a(v),"item-title":"name","item-value":"id",label:"Type de garantie",placeholder:"Choisir le type de garantie",class:"mb-3",rules:["requiredValidator"in d?d.requiredValidator:a(k)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1}),a(e).type_of_guarantee_id===14?(i(),p(s,{key:0},{default:r(()=>[t(n,{cols:"12"},{default:r(()=>[t(u,{modelValue:a(e).montant,"onUpdate:modelValue":l[1]||(l[1]=o=>a(e).montant=o),label:"Montant",type:"number",placeholder:"Entrer le montant"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:r(()=>[t(u,{modelValue:a(e).duree,"onUpdate:modelValue":l[2]||(l[2]=o=>a(e).duree=o),label:"Duré du PEP",placeholder:"Entrer la durée"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:r(()=>[t(C,{modelValue:a(e).date_debut,"onUpdate:modelValue":l[3]||(l[3]=o=>a(e).date_debut=o),label:"Date du debut PEP"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:r(()=>[t(P,{modelValue:a(e).taux_annuel,"onUpdate:modelValue":l[5]||(l[5]=o=>a(e).taux_annuel=o),label:"Taux d'intérêt HT(%)","thumb-size":15,"thumb-label":"always",step:"0.1"},{append:r(()=>[t(D,{modelValue:a(e).taux_annuel,"onUpdate:modelValue":l[4]||(l[4]=o=>a(e).taux_annuel=o),type:"number",style:{width:"80px"},density:"compact","hide-details":"",variant:"outlined",suffix:"%"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})):c("",!0),a(e).type_of_guarantee_id===22?(i(),p(s,{key:1},{default:r(()=>[t(n,{cols:"12"},{default:r(()=>[t(u,{modelValue:a(e).commune,"onUpdate:modelValue":l[6]||(l[6]=o=>a(e).commune=o),label:"Commune",placeholder:"Entrer la commune"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:r(()=>[t(u,{modelValue:a(e).adresse,"onUpdate:modelValue":l[7]||(l[7]=o=>a(e).adresse=o),label:"Quartier",placeholder:"Entrer le quartier"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:r(()=>[t(u,{modelValue:a(e).superficie,"onUpdate:modelValue":l[8]||(l[8]=o=>a(e).superficie=o),label:"Superficie",placeholder:"Entrer la superficie"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:r(()=>[t(u,{modelValue:a(e).montant_terrain,"onUpdate:modelValue":l[9]||(l[9]=o=>a(e).montant_terrain=o),label:"Montant estimé",type:"number",placeholder:"Entrer le montant"},null,8,["modelValue"])]),_:1})]),_:1})):c("",!0),t(s,null,{default:r(()=>[t(n,{cols:"12"},{default:r(()=>[t(E,{modelValue:a(e).comment,"onUpdate:modelValue":l[10]||(l[10]=o=>a(e).comment=o),rows:"2",label:"Commentaire",placeholder:"Entrer un commentaire sur la garantie"},null,8,["modelValue"])]),_:1})]),_:1})]),V("div",H,[t(q,{onClick:U},{default:r(()=>[t(M,{size:"20",icon:"tabler-x"})]),_:1})])]),_:1})}}};export{le as _};
