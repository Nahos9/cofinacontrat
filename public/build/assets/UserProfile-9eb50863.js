import{P as g}from"./vue3-perfect-scrollbar.esm-932536ad.js";import{E as I,aa as n,s as t,o as s,f as l,e as a,b as o,Z as i,M as u,x as c,c as d,F as m,A as P,ab as h,z as x,N as C}from"./main-775cdf0e.js";import{u as L}from"./useAbility-1db88a2b.js";import{V as p}from"./VAvatar-9b1b0588.js";import{V as v}from"./VImg-1cbae8ee.js";import{V as w}from"./VMenu-6552829b.js";import{V as A,a as y,b as _,c as N}from"./VList-50799f13.js";import{V as B}from"./VListItemAction-29932270.js";import{V as f}from"./VBadge-142b8e3b.js";import{V as D}from"./VDivider-b18f6b19.js";import"./VOverlay-27fd024d.js";import"./forwardRefs-6ea3df5c.js";const Q={__name:"UserProfile",setup(S){const b=I(),V=L(),e=n("userData"),k=[{type:"divider"},{type:"navItem",icon:"tabler-settings",title:"ParamÃ¨tres",to:{name:"settings-user-tab",params:{tab:"account"}}},{type:"divider"},{type:"navItem",icon:"tabler-logout",title:"Logout",onClick:async()=>{n("userToken").value=null,e.value=null,await b.push("/login"),n("userAbilityRules").value=null,V.update([])}}];return(z,E)=>t(e)?(s(),l(f,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[o(p,{class:"cursor-pointer",color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(s(),l(v,{key:0,src:t(e).avatar},null,8,["src"])):(s(),l(i,{key:1,icon:"tabler-user"})),o(w,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[o(A,null,{default:a(()=>[o(y,null,{prepend:a(()=>[o(B,{start:""},{default:a(()=>[o(f,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(p,{color:t(e)&&t(e).avatar?void 0:"primary",variant:t(e)&&t(e).avatar?void 0:"tonal"},{default:a(()=>[t(e)&&t(e).avatar?(s(),l(v,{key:0,src:t(e).avatar},null,8,["src"])):(s(),l(i,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:a(()=>[o(_,{class:"font-weight-medium"},{default:a(()=>[u(c(t(e).fullName||t(e).username),1)]),_:1}),o(N,null,{default:a(()=>[u(c(t(e).role_fr),1)]),_:1})]),_:1}),o(t(g),{options:{wheelPropagation:!1}},{default:a(()=>[(s(),d(m,null,P(k,r=>(s(),d(m,{key:r.title},[r.type==="navItem"?(s(),l(y,{key:0,to:r.to,onClick:F=>r.onClick&&r.onClick()},h({prepend:a(()=>[o(i,{class:"me-2",icon:r.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(_,null,{default:a(()=>[u(c(r.title),1)]),_:2},1024)]),_:2},[r.badgeProps?{name:"append",fn:a(()=>[o(f,x({ref_for:!0},r.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to","onClick"])):(s(),l(D,{key:1,class:"my-2"}))],64))),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):C("",!0)}};export{Q as default};
