import{ah as k,s as l,c as _,b as a,e as s,N as p,E as F,n as N,o as r,a3 as b,Z as S,M as u,f as g,x as o,d as e,F as f,A as m}from"./main-a1bb8d1c.js";import{u as j}from"./useApi-ee532938.js";import{c as B}from"./createUrl-82711664.js";import{V as E}from"./VRow-4fd62cc5.js";import{V as n}from"./VCol-c9fbba03.js";import{V as R}from"./VCard-0a0db0fa.js";import{V as c}from"./VCardText-ec067fb4.js";import{V as I}from"./VAlert-d0e2dd21.js";import{V as w}from"./VTable-b1027623.js";import"./index-9c720871.js";import"./VAvatar-28a02eb0.js";import"./VImg-c3c51305.js";const L={key:0},M={class:"text-center"},D=e("p",{style:{"font-size":"20px"}}," CAF ",-1),P=e("p",{style:{"font-size":"20px"}}," Emprunteur ",-1),U=e("p",{style:{"font-size":"20px"}}," N° de compte ",-1),q=e("p",{style:{"font-size":"20px"}}," Activité ",-1),G=e("p",{style:{"font-size":"20px"}}," Objet du financement ",-1),H=e("p",{style:{"font-size":"20px"}}," Type de concours solicité ",-1),O=e("br",null,null,-1),Q={style:{"font-size":"20px"}},Z={style:{"font-size":"20px"}},$={style:{"font-size":"20px"}},J={style:{"font-size":"20px"}},K={style:{"font-size":"20px"}},W={style:{"font-size":"20px"}},X=e("h2",null,"Informations suplémentaires du client",-1),Y=e("p",{style:{"font-size":"20px"}}," Date de naissance ",-1),ee=e("p",{style:{"font-size":"20px"}}," Lieu de naissance ",-1),te=e("p",{style:{"font-size":"20px"}}," Nationnalité ",-1),se=e("p",{style:{"font-size":"20px"}}," Addresse du domicile ",-1),ae=e("p",{style:{"font-size":"20px"}}," Type de la pièce d'identité ",-1),le=e("p",{style:{"font-size":"20px"}}," Numéro de la pièce d'identité ",-1),oe=e("p",{style:{"font-size":"20px"}}," Date de délivrance de la pièce d'identité ",-1),ne=e("p",{style:{"font-size":"20px"}}," Numéro de téléphone ",-1),ie={style:{"font-size":"20px"}},re={style:{"font-size":"20px"}},_e={style:{"font-size":"20px"}},ce={style:{"font-size":"20px"}},de={style:{"font-size":"20px"}},ue={style:{"font-size":"20px"}},pe={style:{"font-size":"20px"}},fe={style:{"font-size":"20px"}},me=e("h2",null,"CARACTERISTIQUES",-1),he={colspan:"5"},ye={colspan:"1"},xe=e("h2",null,"Gages",-1),ve=e("thead",null,[e("tr",null,[e("th",null,"Type"),e("th",null,"Commentaire")])],-1),be=e("h2",null,"GARANTIES A RECUEILLIR",-1),Ie={__name:"[id]",async setup(ge){let d,h;const z=F(),y=N();let x="/contract";const C={mensual:"Mensuelle",quarterly:"Trimestrielle","semi-annual":"Semestrielle",annual:"Annuel","in-fine":"À la fin"},V={cni:"Carte d'identité nationale",passport:"Passeport",residence_certificate:"Certificat de résidence",driving_licence:"Permis de conduire",carte_sej:"carte de séjour"},A={vehicle:"Véhicule",stock:"Stock"},{data:t}=([d,h]=k(()=>j(B(`/contract/${y.params.id}`,{query:{with_type_of_credit:1,with_caf:1,with_type_of_guarantees:1,with_pledges:1}}))),d=await d,h(),d);t.value.status==200?t.value=t.value.data.contract:z.push("/contract");const v=[{title:"Montant",value:String(t.value.verbal_trial.amount).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"},{title:"Durée",value:t.value.verbal_trial.duration+" mois"},{title:"Périodicité",value:C[t.value.verbal_trial.periodicity]},{title:"Taux d'intérêt HT",value:t.value.verbal_trial.tax_fee_interest_rate+"%"},{title:"Echéance TTC",value:String(t.value.verbal_trial.due_amount).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"},{title:"Frais de dossier",value:String(t.value.verbal_trial.amount*t.value.verbal_trial.administrative_fees_percentage/100).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"},{title:"Prime d'assurance",value:String(t.value.verbal_trial.insurance_premium).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"}];return t.value.verbal_trial.duration>13&&v.push({title:"Prime de révision de ligne",value:"1% du capital restant dû après 13 mois"}),t.value.observations.length==0&&(x="/contract/historical"),(we,ze)=>l(t)?(r(),_("section",L,[a(E,null,{default:s(()=>[a(n,{cols:"12"},{default:s(()=>[a(R,null,{default:s(()=>[a(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:s(()=>[a(n,{cols:"10"},{default:s(()=>[a(b,{to:l(x)},{default:s(()=>[a(S,{icon:"tabler-arrow-left"}),u(" Contrats ")]),_:1},8,["to"])]),_:1}),a(n,{cols:"2",class:"text-right"},{default:s(()=>[a(b,{"append-icon":"tabler-edit",to:{name:"contract-edit-id",params:{id:l(y).params.id}},disabled:l(t).status=="validated"},{default:s(()=>[u(" Modifier ")]),_:1},8,["to","disabled"])]),_:1}),a(n,null,{default:s(()=>[l(t).status=="rejected"&&l(t).status_observation?(r(),g(I,{key:0,color:"warning"},{default:s(()=>[u(" Motif du refus: "+o(l(t).status_observation),1)]),_:1})):p("",!0)]),_:1}),a(n,{cols:"12"},{default:s(()=>[e("h2",M," Contrat N°"+o(l(t).verbal_trial.committee_id),1)]),_:1}),a(n,{cols:"6"},{default:s(()=>[D,P,U,q,G,H,O]),_:1}),a(n,{cols:"6"},{default:s(()=>[e("p",Q," : "+o(l(t).verbal_trial.caf.full_name),1),e("p",Z,[u(" : "),e("strong",null,o(l(t).verbal_trial.applicant_last_name+" "+l(t).verbal_trial.applicant_first_name),1)]),e("p",$," : "+o(l(t).verbal_trial.account_number),1),e("p",J," : "+o(l(t).verbal_trial.activity),1),e("p",K," : "+o(l(t).verbal_trial.purpose_of_financing),1),e("p",W," : "+o(l(t).verbal_trial.type_of_credit.name),1)]),_:1})]),_:1}),a(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:s(()=>[a(n,{cols:"12"},{default:s(()=>[X]),_:1}),a(n,{cols:"6"},{default:s(()=>[Y,ee,te,se,ae,le,oe,ne]),_:1}),a(n,{cols:"6"},{default:s(()=>[e("p",ie," : "+o(l(t).representative_birth_date_fr),1),e("p",re," : "+o(l(t).representative_birth_place),1),e("p",_e," : "+o(l(t).representative_nationality),1),e("p",ce," : "+o(l(t).representative_home_address),1),e("p",de," : "+o(V[l(t).representative_type_of_identity_document]),1),e("p",ue," : "+o(l(t).representative_number_of_identity_document),1),e("p",pe," : "+o(l(t).representative_date_of_issue_of_identity_document_fr),1),e("p",fe," : "+o(l(t).representative_phone_number),1)]),_:1})]),_:1}),a(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:s(()=>[a(n,{cols:"12"},{default:s(()=>[me]),_:1}),a(n,{cols:"12"},{default:s(()=>[a(w,{class:"text-no-wrap"},{default:s(()=>[e("tbody",null,[(r(),_(f,null,m(v,i=>e("tr",{key:i.key},[e("td",he,o(i.title),1),e("td",ye,o(i.value),1)])),64))])]),_:1})]),_:1})]),_:1}),l(t).has_pledges=="1"?(r(),g(c,{key:0,class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:s(()=>[a(n,{cols:"12"},{default:s(()=>[xe]),_:1}),a(n,{cols:"12"},{default:s(()=>[a(w,{class:"text-no-wrap"},{default:s(()=>[ve,e("tbody",null,[(r(!0),_(f,null,m(l(t).pledges,i=>(r(),_("tr",{key:i.key},[e("td",null,o(A[i.type]),1),e("td",null,o(i.comment),1)]))),128))])]),_:1})]),_:1})]),_:1})):p("",!0),a(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:s(()=>[a(n,{cols:"12"},{default:s(()=>[be]),_:1}),a(n,{cols:"12"},{default:s(()=>[e("p",null,[e("ul",null,[(r(!0),_(f,null,m(l(t).verbal_trial.guarantees,(i,T)=>(r(),_("li",{key:T,style:{"font-size":"20px"}},o(i.type_of_guarantee.name)+" : "+o(i.comment),1))),128))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):p("",!0)}};export{Ie as default};
