import{_ as Ye}from"./ConfirmDialog-b145b56c.js";import{_ as xe}from"./AppTextField-5c21ee1c.js";import{c6 as Ve,ac as N,ad as ie,ae as ue,aH as Xe,af as q,aL as Ge,bx as we,bc as Ue,bQ as Ce,r as V,a1 as x,ao as E,w as ke,p as We,b as l,a3 as z,ag as K,v as Te,aT as je,bR as Ne,G as qe,bS as Ke,y as Ze,b7 as ne,aj as Ie,ax as he,bP as Je,bv as Qe,bT as be,bh as et,c7 as ye,Z as Y,b9 as tt,bq as at,b8 as ot,c8 as nt,aV as lt,z as le,aC as st,aq as it,aO as ut,aZ as rt,U as D,a_ as ct,c9 as dt,aa as F,o as X,c as J,e as f,s as h,F as re,E as vt,f as Re,a2 as Ae,A as Ee,M as j,C as ft,D as mt,d as G,$ as se,x as Pe,n as gt}from"./main-50481d5f.js";import{V as $}from"./VCol-8d7d8655.js";import{V as ce}from"./VCard-335757d8.js";import{V as W}from"./VCardText-89aa1fdf.js";import{V as de}from"./VForm-e4fa45ac.js";import{V as L}from"./VRow-a81a1884.js";import{$ as $e}from"./api-738b1ffa.js";import{_ as ht}from"./_plugin-vue_export-helper-c27b6911.js";import{e as bt,V as yt,a as pt}from"./VList-16614a3d.js";import{V as _t}from"./VAvatar-ecc6d3c8.js";import{V as St}from"./VSnackbar-22fec4a5.js";import{a as xt,s as Vt}from"./forwardRefs-6ea3df5c.js";import{c as wt,d as Ct}from"./VOverlay-4bfe0313.js";import{M as kt}from"./VImg-5716300f.js";import"./VDialog-a8769e64.js";import"./VTextField-9e4adc87.js";import"./index-9c720871.js";import"./useAbility-da908a05.js";import"./VDivider-4bb27e6e.js";const Tt=e=>{const{touchstartX:n,touchendX:t,touchstartY:a,touchendY:u}=e,s=.5,o=16;e.offsetX=t-n,e.offsetY=u-a,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&t<n-o&&e.left(e),e.right&&t>n+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&u<a-o&&e.up(e),e.down&&u>a+o&&e.down(e))};function It(e,n){var a;const t=e.changedTouches[0];n.touchstartX=t.clientX,n.touchstartY=t.clientY,(a=n.start)==null||a.call(n,{originalEvent:e,...n})}function Rt(e,n){var a;const t=e.changedTouches[0];n.touchendX=t.clientX,n.touchendY=t.clientY,(a=n.end)==null||a.call(n,{originalEvent:e,...n}),Tt(n)}function At(e,n){var a;const t=e.changedTouches[0];n.touchmoveX=t.clientX,n.touchmoveY=t.clientY,(a=n.move)==null||a.call(n,{originalEvent:e,...n})}function Et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>It(t,n),touchend:t=>Rt(t,n),touchmove:t=>At(t,n)}}function Pt(e,n){var i;const t=n.value,a=t!=null&&t.parent?e.parentElement:e,u=(t==null?void 0:t.options)??{passive:!0},s=(i=n.instance)==null?void 0:i.$.uid;if(!a||!s)return;const o=Et(n.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[s]=o,Ve(o).forEach(c=>{a.addEventListener(c,o[c],u)})}function $t(e,n){var s,o;const t=(s=n.value)!=null&&s.parent?e.parentElement:e,a=(o=n.instance)==null?void 0:o.$.uid;if(!(t!=null&&t._touchHandlers)||!a)return;const u=t._touchHandlers[a];Ve(u).forEach(i=>{t.removeEventListener(i,u[i])}),delete t._touchHandlers[a]}const ze={mounted:Pt,unmounted:$t},Be=Symbol.for("vuetify:v-window"),Me=Symbol.for("vuetify:v-window-group"),zt=N({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ie(),...ue(),...Xe()},"VWindow"),Bt=q()({name:"VWindow",directives:{Touch:ze},props:zt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:a}=Ge(e),{isRtl:u}=we(),{t:s}=Ue(),o=Ce(e,Me),i=V(),c=x(()=>u.value?!e.reverse:e.reverse),d=E(!1),b=x(()=>{const _=e.direction==="vertical"?"y":"x",w=(c.value?!d.value:d.value)?"-reverse":"";return`v-window-${_}${w}-transition`}),p=E(0),r=V(void 0),m=x(()=>o.items.value.findIndex(_=>o.selected.value.includes(_.id)));ke(m,(_,S)=>{const w=o.items.value.length,R=w-1;w<=2?d.value=_<S:_===R&&S===0?d.value=!0:_===0&&S===R?d.value=!1:d.value=_<S}),We(Be,{transition:b,isReversed:d,transitionCount:p,transitionHeight:r,rootRef:i});const v=x(()=>e.continuous||m.value!==0),k=x(()=>e.continuous||m.value!==o.items.value.length-1);function B(){v.value&&o.prev()}function P(){k.value&&o.next()}const T=x(()=>{const _=[],S={icon:u.value?e.nextIcon:e.prevIcon,class:`v-window__${c.value?"right":"left"}`,onClick:o.prev,ariaLabel:s("$vuetify.carousel.prev")};_.push(v.value?t.prev?t.prev({props:S}):l(z,S,null):l("div",null,null));const w={icon:u.value?e.prevIcon:e.nextIcon,class:`v-window__${c.value?"left":"right"}`,onClick:o.next,ariaLabel:s("$vuetify.carousel.next")};return _.push(k.value?t.next?t.next({props:w}):l(z,w,null):l("div",null,null)),_}),I=x(()=>e.touch===!1?e.touch:{...{left:()=>{c.value?B():P()},right:()=>{c.value?P():B()},start:S=>{let{originalEvent:w}=S;w.stopPropagation()}},...e.touch===!0?{}:e.touch});return K(()=>Te(l(e.tag,{ref:i,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class],style:e.style},{default:()=>{var _,S;return[l("div",{class:"v-window__container",style:{height:r.value}},[(_=t.default)==null?void 0:_.call(t,{group:o}),e.showArrows!==!1&&l("div",{class:"v-window__controls"},[T.value])]),(S=t.additional)==null?void 0:S.call(t,{group:o})]}}),[[je("touch"),I.value]])),{group:o}}}),Mt=N({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ie(),...Ne(),...wt()},"VWindowItem"),oe=q()({name:"VWindowItem",directives:{Touch:ze},props:Mt(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:t}=n;const a=qe(Be),u=Ke(e,Me),{isBooted:s}=bt();if(!a||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=E(!1),i=x(()=>s.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function c(){!o.value||!a||(o.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function d(){var v;o.value||!a||(o.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=ne((v=a.rootRef.value)==null?void 0:v.clientHeight)),a.transitionCount.value+=1)}function b(){c()}function p(v){o.value&&Ie(()=>{!i.value||!o.value||!a||(a.transitionHeight.value=ne(v.clientHeight))})}const r=x(()=>{const v=a.isReversed.value?e.reverseTransition:e.transition;return i.value?{name:typeof v!="string"?a.transition.value:v,onBeforeEnter:d,onAfterEnter:c,onEnterCancelled:b,onBeforeLeave:d,onAfterLeave:c,onLeaveCancelled:b,onEnter:p}:!1}),{hasContent:m}=Ct(e,u.isSelected);return K(()=>l(kt,{transition:r.value,disabled:!s.value},{default:()=>{var v;return[Te(l("div",{class:["v-window-item",u.selectedClass.value,e.class],style:e.style},[m.value&&((v=t.default)==null?void 0:v.call(t))]),[[Ze,u.isSelected.value]])]}})),{groupItem:u}}});function pe(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function _e(e){let{selectedElement:n,containerSize:t,contentSize:a,isRtl:u,currentScrollOffset:s,isHorizontal:o}=e;const i=o?n.clientWidth:n.clientHeight,c=o?n.offsetLeft:n.offsetTop,d=u&&o?a-c-i:c,b=t+s,p=i+d,r=i*.4;return d<=s?s=Math.max(d-r,0):b<=p&&(s=Math.min(s-(b-p-r),a-t)),s}function Dt(e){let{selectedElement:n,containerSize:t,contentSize:a,isRtl:u,isHorizontal:s}=e;const o=s?n.clientWidth:n.clientHeight,i=s?n.offsetLeft:n.offsetTop,c=u&&s?a-i-o/2-t/2:i+o/2-t/2;return Math.min(a-t,Math.max(0,c))}const Ht=Symbol.for("vuetify:v-slide-group"),De=N({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ht},nextIcon:{type:he,default:"$next"},prevIcon:{type:he,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ie(),...ue(),...Je({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Se=q()({name:"VSlideGroup",props:De(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isRtl:a}=we(),{mobile:u}=Qe(),s=Ce(e,e.symbol),o=E(!1),i=E(0),c=E(0),d=E(0),b=x(()=>e.direction==="horizontal"),{resizeRef:p,contentRect:r}=be(),{resizeRef:m,contentRect:v}=be(),k=x(()=>s.selected.value.length?s.items.value.findIndex(g=>g.id===s.selected.value[0]):-1),B=x(()=>s.selected.value.length?s.items.value.findIndex(g=>g.id===s.selected.value[s.selected.value.length-1]):-1);if(et){let g=-1;ke(()=>[s.selected.value,r.value,v.value,b.value],()=>{cancelAnimationFrame(g),g=requestAnimationFrame(()=>{if(r.value&&v.value){const y=b.value?"width":"height";c.value=r.value[y],d.value=v.value[y],o.value=c.value+1<d.value}if(k.value>=0&&m.value){const y=m.value.children[B.value];k.value===0||!o.value?i.value=0:e.centerActive?i.value=Dt({selectedElement:y,containerSize:c.value,contentSize:d.value,isRtl:a.value,isHorizontal:b.value}):o.value&&(i.value=_e({selectedElement:y,containerSize:c.value,contentSize:d.value,isRtl:a.value,currentScrollOffset:i.value,isHorizontal:b.value}))}})})}const P=E(!1);let T=0,I=0;function _(g){const y=b.value?"clientX":"clientY";I=(a.value&&b.value?-1:1)*i.value,T=g.touches[0][y],P.value=!0}function S(g){if(!o.value)return;const y=b.value?"clientX":"clientY",A=a.value&&b.value?-1:1;i.value=A*(I+T-g.touches[0][y])}function w(g){const y=d.value-c.value;i.value<0||!o.value?i.value=0:i.value>=y&&(i.value=y),P.value=!1}function R(){p.value&&(p.value[b.value?"scrollLeft":"scrollTop"]=0)}const H=E(!1);function Q(g){if(H.value=!0,!(!o.value||!m.value)){for(const y of g.composedPath())for(const A of m.value.children)if(A===y){i.value=_e({selectedElement:A,containerSize:c.value,contentSize:d.value,isRtl:a.value,currentScrollOffset:i.value,isHorizontal:b.value});return}}}function M(g){H.value=!1}function ee(g){var y;!H.value&&!(g.relatedTarget&&((y=m.value)!=null&&y.contains(g.relatedTarget)))&&C()}function ve(g){m.value&&(b.value?g.key==="ArrowRight"?C(a.value?"prev":"next"):g.key==="ArrowLeft"&&C(a.value?"next":"prev"):g.key==="ArrowDown"?C("next"):g.key==="ArrowUp"&&C("prev"),g.key==="Home"?C("first"):g.key==="End"&&C("last"))}function C(g){var y,A,fe,me,ge;if(m.value)if(!g)(y=tt(m.value)[0])==null||y.focus();else if(g==="next"){const O=(A=m.value.querySelector(":focus"))==null?void 0:A.nextElementSibling;O?O.focus():C("first")}else if(g==="prev"){const O=(fe=m.value.querySelector(":focus"))==null?void 0:fe.previousElementSibling;O?O.focus():C("last")}else g==="first"?(me=m.value.firstElementChild)==null||me.focus():g==="last"&&((ge=m.value.lastElementChild)==null||ge.focus())}function U(g){const y=i.value+(g==="prev"?-1:1)*c.value;i.value=at(y,0,d.value-c.value)}const Z=x(()=>{let g=i.value>d.value-c.value?-(d.value-c.value)+pe(d.value-c.value-i.value):-i.value;i.value<=0&&(g=pe(-i.value));const y=a.value&&b.value?-1:1;return{transform:`translate${b.value?"X":"Y"}(${y*g}px)`,transition:P.value?"none":"",willChange:P.value?"transform":""}}),te=x(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),ae=x(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return o.value||Math.abs(i.value)>0;case"mobile":return u.value||o.value||Math.abs(i.value)>0;default:return!u.value&&(o.value||Math.abs(i.value)>0)}}),Fe=x(()=>Math.abs(i.value)>0),Le=x(()=>d.value>Math.abs(i.value)+c.value);return K(()=>l(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!b.value,"v-slide-group--has-affixes":ae.value,"v-slide-group--is-overflowing":o.value},e.class],style:e.style,tabindex:H.value||s.selected.value.length?-1:0,onFocus:ee},{default:()=>{var g,y,A;return[ae.value&&l("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Fe.value}],onClick:()=>U("prev")},[((g=t.prev)==null?void 0:g.call(t,te.value))??l(ye,null,{default:()=>[l(Y,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),l("div",{key:"container",ref:p,class:"v-slide-group__container",onScroll:R},[l("div",{ref:m,class:"v-slide-group__content",style:Z.value,onTouchstartPassive:_,onTouchmovePassive:S,onTouchendPassive:w,onFocusin:Q,onFocusout:M,onKeydown:ve},[(y=t.default)==null?void 0:y.call(t,te.value)])]),ae.value&&l("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Le.value}],onClick:()=>U("next")},[((A=t.next)==null?void 0:A.call(t,te.value))??l(ye,null,{default:()=>[l(Y,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:U,scrollOffset:i,focus:C}}});const He=Symbol.for("vuetify:v-tabs"),Ot=N({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ot(nt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Oe=q()({name:"VTab",props:Ot(),setup(e,n){let{slots:t,attrs:a}=n;const{textColorClasses:u,textColorStyles:s}=lt(e,"sliderColor"),o=x(()=>e.direction==="horizontal"),i=E(!1),c=V(),d=V();function b(p){var m,v;let{value:r}=p;if(i.value=r,r){const k=(v=(m=c.value)==null?void 0:m.$el.parentElement)==null?void 0:v.querySelector(".v-tab--selected .v-tab__slider"),B=d.value;if(!k||!B)return;const P=getComputedStyle(k).color,T=k.getBoundingClientRect(),I=B.getBoundingClientRect(),_=o.value?"x":"y",S=o.value?"X":"Y",w=o.value?"right":"bottom",R=o.value?"width":"height",H=T[_],Q=I[_],M=H>Q?T[w]-I[w]:T[_]-I[_],ee=Math.sign(M)>0?o.value?"right":"bottom":Math.sign(M)<0?o.value?"left":"top":"center",C=(Math.abs(M)+(Math.sign(M)<0?T[R]:I[R]))/Math.max(T[R],I[R])||0,U=T[R]/I[R]||0,Z=1.5;xt(B,{backgroundColor:[P,"currentcolor"],transform:[`translate${S}(${M}px) scale${S}(${U})`,`translate${S}(${M/Z}px) scale${S}(${(C-1)/Z+1})`,"none"],transformOrigin:Array(3).fill(ee)},{duration:225,easing:Vt})}}return K(()=>{const[p]=z.filterProps(e);return l(z,le({symbol:He,ref:c,class:["v-tab",e.class],style:e.style,tabindex:i.value?0:-1,role:"tab","aria-selected":String(i.value),active:!1},p,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":b}),{default:()=>{var r;return[((r=t.default)==null?void 0:r.call(t))??e.text,!e.hideSlider&&l("div",{ref:d,class:["v-tab__slider",u.value],style:s.value},null)]}})}),{}}});function Ft(e){return e?e.map(n=>dt(n)?n:{text:n,value:n}):[]}const Lt=N({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...De({mandatory:"force"}),...st(),...ue()},"VTabs"),Yt=q()({name:"VTabs",props:Lt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=it(e,"modelValue"),u=x(()=>Ft(e.items)),{densityClasses:s}=ut(e),{backgroundColorClasses:o,backgroundColorStyles:i}=rt(D(e,"bgColor"));return ct({VTab:{color:D(e,"color"),direction:D(e,"direction"),stacked:D(e,"stacked"),fixed:D(e,"fixedTabs"),sliderColor:D(e,"sliderColor"),hideSlider:D(e,"hideSlider")}}),K(()=>{const[c]=Se.filterProps(e);return l(Se,le(c,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,o.value,e.class],style:[{"--v-tabs-height":ne(e.height)},i.value,e.style],role:"tablist",symbol:He}),{default:()=>[t.default?t.default():u.value.map(d=>l(Oe,le(d,{key:d.text}),null))]})}),{}}}),Xt={__name:"AccountSettingsAccount",setup(e){const n=F("userData").value;return(t,a)=>{const u=xe,s=Ye;return X(),J(re,null,[l(L,null,{default:f(()=>[l($,{cols:"12"},{default:f(()=>[l(ce,{title:"Details du compte utilisateur"},{default:f(()=>[l(W,{class:"pt-2"},{default:f(()=>[l(de,{class:"mt-6"},{default:f(()=>[l(L,null,{default:f(()=>[l($,{md:"6",cols:"12"},{default:f(()=>[l(u,{modelValue:h(n).fullName,"onUpdate:modelValue":a[0]||(a[0]=o=>h(n).fullName=o),label:"Nom complet",readonly:""},null,8,["modelValue"])]),_:1}),l($,{md:"6",cols:"12"},{default:f(()=>[l(u,{modelValue:h(n).role_fr,"onUpdate:modelValue":a[1]||(a[1]=o=>h(n).role_fr=o),label:"Profil",readonly:""},null,8,["modelValue"])]),_:1}),l($,{cols:"12",md:"12"},{default:f(()=>[l(u,{modelValue:h(n).email,"onUpdate:modelValue":a[2]||(a[2]=o=>h(n).email=o),label:"E-mail",type:"email",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(s,{isDialogVisible:t.isConfirmDialogOpen,"onUpdate:isDialogVisible":a[3]||(a[3]=o=>t.isConfirmDialogOpen=o),"confirmation-question":"Are you sure you want to deactivate your account?","confirm-title":"Deactivated!","confirm-msg":"Your account has been deactivated successfully.","cancel-title":"Cancelled","cancel-msg":"Account Deactivation Cancelled!"},null,8,["isDialogVisible"])],64)}}};const Gt=e=>(ft("data-v-7c1cebcd"),e=e(),mt(),e),Ut=Gt(()=>G("h6",{class:"text-base font-weight-medium mb-3"}," Exigences du mot de passe: ",-1)),Wt={__name:"AccountSettingsSecurity",setup(e){const n=vt(),t=V(!1),a=V(!1),u=V(!1),s=V({old_password:"",new_password:"",new_password_confirmation:""}),o=()=>({old_password:"",new_password:"",new_password_confirmation:""}),i=V(o()),c=["Au minimum 8 charactères","Au moins une majuscule","Au moins une minuscule","Au moins un chiffre","Au moins un caractère spécial"],d=V(),b=()=>{var p;(p=d.value)==null||p.validate().then(async({valid:r})=>{if(r){const m=await $e("/user/update-password",{method:"PUT",body:s.value});if(i.value=o(),m.status==200)F("userToken").value=null,F("userData").value=null,await n.push("/login");else for(const v in m.errors)m.errors[v].forEach(k=>{i.value[v]+=k+`
`});Ie(()=>{var v;(v=d.value)==null||v.resetValidation()})}})};return(p,r)=>{const m=xe;return X(),Re(L,null,{default:f(()=>[l($,{cols:"12"},{default:f(()=>[l(ce,{title:"Modification du mot de passe"},{default:f(()=>[l(de,{ref_key:"refForm",ref:d,onSubmit:Ae(b,["prevent"])},{default:f(()=>[l(W,{class:"pt-0"},{default:f(()=>[l(L,null,{default:f(()=>[l($,{cols:"12",md:"12"},{default:f(()=>[l(m,{modelValue:h(s).old_password,"onUpdate:modelValue":r[0]||(r[0]=v=>h(s).old_password=v),errorMessages:h(i).old_password,type:h(t)?"text":"password","append-inner-icon":h(t)?"tabler-eye-off":"tabler-eye",label:"Mot de passe actuel",autocomplete:"on",placeholder:"············","onClick:appendInner":r[1]||(r[1]=v=>t.value=!h(t))},null,8,["modelValue","errorMessages","type","append-inner-icon"])]),_:1})]),_:1}),l(L,null,{default:f(()=>[l($,{cols:"12",md:"12"},{default:f(()=>[l(m,{modelValue:h(s).new_password,"onUpdate:modelValue":r[2]||(r[2]=v=>h(s).new_password=v),errorMessages:h(i).new_password,type:h(a)?"text":"password","append-inner-icon":h(a)?"tabler-eye-off":"tabler-eye",label:"Nouveau mot de passe",autocomplete:"on",placeholder:"············","onClick:appendInner":r[3]||(r[3]=v=>a.value=!h(a))},null,8,["modelValue","errorMessages","type","append-inner-icon"])]),_:1}),l($,{cols:"12",md:"12"},{default:f(()=>[l(m,{modelValue:h(s).new_password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=v=>h(s).new_password_confirmation=v),errorMessages:h(i).new_password_confirmation,type:h(u)?"text":"password","append-inner-icon":h(u)?"tabler-eye-off":"tabler-eye",label:"Confirmation du nouveau mot de passe",autocomplete:"on",placeholder:"············","onClick:appendInner":r[5]||(r[5]=v=>u.value=!h(u))},null,8,["modelValue","errorMessages","type","append-inner-icon"])]),_:1})]),_:1})]),_:1}),l(W,null,{default:f(()=>[Ut,l(yt,{class:"card-list"},{default:f(()=>[(X(),J(re,null,Ee(c,v=>l(pt,{key:v,title:v,class:"text-medium-emphasis"},{prepend:f(()=>[l(Y,{size:"8",icon:"tabler-circle",class:"me-3"})]),_:2},1032,["title"])),64))]),_:1})]),_:1}),l(W,{class:"d-flex flex-wrap gap-4"},{default:f(()=>[l(z,{type:"submit"},{default:f(()=>[j("Enregistrer")]),_:1}),l(z,{type:"reset",color:"secondary",variant:"tonal"},{default:f(()=>[j(" Réinitialiser ")]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})}}},jt=ht(Wt,[["__scopeId","data-v-7c1cebcd"]]),Nt={class:"d-flex flex-wrap gap-2"},qt=G("span",{class:"d-none d-sm-block"},"Ajouter une nouvelle signature",-1),Kt=G("span",{class:"d-none d-sm-block"},"Réinitialiser",-1),Zt=G("p",{class:"text-body-1 mb-0"}," Autorisés JPG, GIF ou PNG. Taille Max of 800K ",-1),Jt={__name:"AccountSettingsSignatory",setup(e){const n={avatarImg:F("userData").value.signatory},t=V(""),a=V(),u=V(structuredClone(n)),s=p=>{const r=new FileReader,{files:m}=p.target;m&&m.length&&(r.readAsDataURL(m[0]),r.onload=()=>{typeof r.result=="string"&&(u.value.avatarImg=r.result)})},o=()=>{u.value.avatarImg=n.avatarImg},i=async()=>{const p=await $e("/user/update-signatory/"+F("userData").value.id,{method:"PUT",body:{signatory:u.value.avatarImg}});if(t.value="",p.status==200)F("userData").value.signatory="http://credit.cofina.localhost"+p.data.user.signatory_path,b.value="success",d.value="Signature uploadé avec succès",c.value=!0;else{d.value="",b.value="error";for(const r in p.errors)p.errors[r].forEach(m=>{d.value+=m+`
`});c.value=!0}},c=V(!1),d=V(""),b=V("error");return(p,r)=>(X(),Re(L,null,{default:f(()=>[l($,{cols:"12"},{default:f(()=>[l(ce,{title:"Signature du compte"},{default:f(()=>[l(W,{class:"d-flex"},{default:f(()=>[l(_t,{rounded:"",size:"140",class:"me-6",image:h(u).avatarImg},null,8,["image"]),l(de,{onSubmit:Ae(i,["prevent"]),class:"d-flex flex-column justify-center gap-4"},{default:f(()=>[G("div",Nt,[l(z,{color:"primary",onClick:r[0]||(r[0]=m=>{var v;return(v=h(a))==null?void 0:v.click()})},{default:f(()=>[l(Y,{icon:"tabler-cloud-upload",class:"d-sm-none"}),qt]),_:1}),G("input",{ref_key:"refInputEl",ref:a,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:s},null,544),l(z,{type:"reset",color:"secondary",variant:"tonal",onClick:o},{default:f(()=>[Kt,l(Y,{icon:"tabler-refresh",class:"d-sm-none"})]),_:1})]),Zt,l(z,{type:"submit"},{default:f(()=>[j("Enregistrer")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(St,{modelValue:h(c),"onUpdate:modelValue":r[1]||(r[1]=m=>se(c)?c.value=m:null),transition:"scroll-y-reverse-transition",location:"bottom end",color:h(b)},{default:f(()=>[j(Pe(h(d)),1)]),_:1},8,["modelValue","color"])]),_:1}))}},_a={__name:"[tab]",setup(e){const n=gt(),t=x({get:()=>n.params.tab,set:()=>n.params.tab}),a=[{title:"Compte",icon:"tabler-users",tab:"account"},{title:"Sécurité",icon:"tabler-lock",tab:"security"},{title:"Signature",icon:"tabler-writing-sign",tab:"signatory"}];return(u,s)=>(X(),J("div",null,[l(Yt,{modelValue:h(t),"onUpdate:modelValue":s[0]||(s[0]=o=>se(t)?t.value=o:null),class:"v-tabs-pill"},{default:f(()=>[(X(),J(re,null,Ee(a,o=>l(Oe,{key:o.icon,value:o.tab,to:{name:"settings-user-tab",params:{tab:o.tab}}},{default:f(()=>[l(Y,{size:"20",start:"",icon:o.icon},null,8,["icon"]),j(" "+Pe(o.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),l(Bt,{modelValue:h(t),"onUpdate:modelValue":s[1]||(s[1]=o=>se(t)?t.value=o:null),class:"mt-6 disable-tab-transition",touch:!1},{default:f(()=>[l(oe,{value:"account"},{default:f(()=>[l(Xt)]),_:1}),l(oe,{value:"security"},{default:f(()=>[l(jt)]),_:1}),l(oe,{value:"signatory"},{default:f(()=>[l(Jt)]),_:1})]),_:1},8,["modelValue"])]))}};export{_a as default};
