import{ah as N,s as l,c as _,b as i,e as a,N as p,E as S,n as B,o as r,a3 as x,M as u,f as b,x as o,d as t,F as v,A as m}from"./main-6a2f1544.js";import{u as E}from"./useApi-4c4343b8.js";import{c as R}from"./createUrl-4449bd6b.js";import{V as M}from"./VRow-af72bb7a.js";import{V as s}from"./VCol-01037d3b.js";import{V as j}from"./VCard-1470a4aa.js";import{V as c}from"./VCardText-23bae783.js";import{V as w}from"./VAlert-4a6d2f65.js";import{V as g}from"./VTable-d0bad554.js";import{V as D}from"./VDivider-370c9e7d.js";import"./index-9c720871.js";import"./VAvatar-2395aa1b.js";import"./VImg-6c5408fa.js";const P={key:0},I={class:"text-center"},L=t("p",{style:{"font-size":"20px"}}," CAF ",-1),q=t("p",{style:{"font-size":"20px"}}," Emprunteur ",-1),U=t("p",{style:{"font-size":"20px"}}," N° de compte ",-1),G=t("p",{style:{"font-size":"20px"}}," Activité ",-1),H=t("p",{style:{"font-size":"20px"}}," Objet du financement ",-1),O=t("p",{style:{"font-size":"20px"}}," Type de concours solicité ",-1),Q=t("br",null,null,-1),$={style:{"font-size":"20px"}},J={style:{"font-size":"20px"}},K={style:{"font-size":"20px"}},W={style:{"font-size":"20px"}},X={style:{"font-size":"20px"}},Y={style:{"font-size":"20px"}},Z={style:{"font-size":"20px"}},ee=t("h2",null,"CARACTERISTIQUES",-1),te={colspan:"5"},ae={colspan:"1"},ie=t("h2",null,"Informations de la notification",-1),le={colspan:"5"},oe={colspan:"1"},se=t("h2",null,"GARANTIES A RECUEILLIR",-1),Ae={__name:"[id]",async setup(ne){let d,y;const A=S(),V=B();let f="notification";const C={mensual:"Mensuelle",quarterly:"Trimestrielle","semi-annual":"Semestrielle",annual:"Annuel","in-fine":"À la fin"},T={cni:"Carte d'identité nationale",passport:"Passeport",residence_certificate:"Certificat de résidence",driving_licence:"Permis de conduire"},F={company:"Société",individual_business:"Entreprise individuelle",particular:"Particulier"},{data:e}=([d,y]=N(()=>E(R(`/notification/${V.params.id}`,{query:{with_type_of_credit:1,with_caf:1,with_creator:1,with_verbal_trial:1,with_type_of_guarantees:1}}))),d=await d,y(),d);e.value.status==200?e.value=e.value.data.notification:A.push({name:"pv-without-notification"});const h=[{title:"Montant",value:String(e.value.verbal_trial.amount).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"},{title:"Durée",value:e.value.verbal_trial.duration+" mois"},{title:"Périodicité",value:C[e.value.verbal_trial.periodicity]},{title:"Taux d'intérêt HT",value:e.value.verbal_trial.tax_fee_interest_rate+"%"},{title:"TAF",value:e.value.verbal_trial.taf+"%"},{title:"Echéance TTC",value:String(e.value.verbal_trial.due_amount).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"},{title:"Frais de dossier",value:String(e.value.verbal_trial.amount*e.value.verbal_trial.administrative_fees_percentage/100).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"},{title:"Prime d'assurance",value:String(e.value.verbal_trial.insurance_premium).replace(/\B(?=(\d{3})+(?!\d))/g," ")+"F CFA"}],z=[{title:"Téléphone",value:e.value.representative_phone_number},{title:"Adresse",value:e.value.representative_home_address},{title:"Nombre d'écheance",value:e.value.number_of_due_dates},{title:"Prime de risque",value:e.value.risk_premium_percentage+"%"},{title:"Montant total des intérêts",value:e.value.total_amount_of_interest},{title:"Type de pièce d'identité",value:T[e.value.representative_type_of_identity_document]},{title:"Numéro de la pièce d'identité",value:e.value.representative_number_of_identity_document},{title:"Date d'expiration de la pièce d'identité",value:e.value.representative_date_of_issue_of_identity_document},{title:"Type de notification",value:F[e.value.type]}];return e.value.verbal_trial.duration>13&&h.push({title:"Prime de révision de ligne",value:"1% du capital restant dû après 13 mois"}),e.value.head_credit_validation=="validated"&&(e.value.status=="validated"?f="notification-historical":f="notification-without-signed-contract"),(re,_e)=>l(e)?(r(),_("section",P,[i(M,null,{default:a(()=>[i(s,{cols:"12"},{default:a(()=>[i(j,null,{default:a(()=>[i(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:a(()=>[i(s,{cols:"11"},{default:a(()=>[i(x,{"prepend-icon":"tabler-arrow-narrow-left",to:{name:l(f)}},{default:a(()=>[u(" Notifications ")]),_:1},8,["to"])]),_:1}),i(s,{cols:"1"},{default:a(()=>[i(x,{to:{name:"notification-edit-id",params:{id:l(e).id}},disabled:l(e).status=="validated"},{default:a(()=>[u(" Modifier ")]),_:1},8,["to","disabled"])]),_:1}),l(e).status=="rejected"&&l(e).status_observation?(r(),b(s,{key:0},{default:a(()=>[i(w,{color:"warning"},{default:a(()=>[u(" Motif du refus par "+o(l(e).creator.full_name)+": "+o(l(e).status_observation),1)]),_:1})]),_:1})):p("",!0),l(e).head_credit_validation=="rejected"&&l(e).head_credit_observation?(r(),b(s,{key:1},{default:a(()=>[i(w,{color:"warning"},{default:a(()=>[u(" Motif du refus par head crédit: "+o(l(e).head_credit_observation),1)]),_:1})]),_:1})):p("",!0),i(s,{cols:"12"},{default:a(()=>[t("h2",I," Notification N°"+o(l(e).verbal_trial.committee_id),1)]),_:1}),i(s,{cols:"6"},{default:a(()=>[L,q,U,G,H,O,Q,t("p",$," Date de validation: "+o(l(e).verbal_trial.created_at_fr),1)]),_:1}),i(s,{cols:"6"},{default:a(()=>[t("p",J," : "+o(l(e).verbal_trial.caf.full_name),1),t("p",K,[u(" : "),t("strong",null,o(l(e).verbal_trial.applicant_last_name+" "+l(e).verbal_trial.applicant_first_name),1)]),t("p",W," : "+o(l(e).verbal_trial.account_number),1),t("p",X," : "+o(l(e).verbal_trial.activity),1),t("p",Y," : "+o(l(e).verbal_trial.purpose_of_financing),1),t("p",Z," : "+o(l(e).verbal_trial.type_of_credit.name),1)]),_:1})]),_:1}),i(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:a(()=>[i(s,{cols:"12"},{default:a(()=>[ee]),_:1}),i(s,{cols:"12"},{default:a(()=>[i(g,{class:"text-no-wrap"},{default:a(()=>[t("tbody",null,[(r(),_(v,null,m(h,n=>t("tr",{key:n.key},[t("td",te,o(n.title),1),t("td",ae,o(n.value),1)])),64))])]),_:1})]),_:1})]),_:1}),i(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:a(()=>[i(s,{cols:"12"},{default:a(()=>[ie]),_:1}),i(s,{cols:"12"},{default:a(()=>[i(g,{class:"text-no-wrap"},{default:a(()=>[t("tbody",null,[(r(),_(v,null,m(z,n=>t("tr",{key:n.key},[t("td",le,o(n.title),1),t("td",oe,o(n.value),1)])),64))])]),_:1})]),_:1})]),_:1}),i(c,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row text-lg"},{default:a(()=>[i(s,{cols:"12"},{default:a(()=>[se]),_:1}),i(s,{cols:"12"},{default:a(()=>[t("p",null,[t("ul",null,[(r(!0),_(v,null,m(l(e).guarantees,(n,k)=>(r(),_("li",{key:k,style:{"font-size":"20px"}},o(n.type_of_guarantee.name)+" de "+o(String(n.value).replace(/\B(?=(\d{3})+(?!\d))/g," "))+" F CFA : "+o(n.comment),1))),128))])])]),_:1})]),_:1}),i(D)]),_:1})]),_:1})]),_:1})])):p("",!0)}};export{Ae as default};
