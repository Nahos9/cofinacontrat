import{r as v}from"./validators-be8c4c00.js";import{n as ne,E as te,r as b,w as B,ah as se,a1 as ue,o as c,c as N,b as l,e as a,a2 as ie,s as m,f as I,F as O,A as G,d as t,a3 as k,M as h,N as D,Z,x as d,C as re,D as de,aj as oe}from"./main-f1b08e28.js";import{_ as _e}from"./AppSelect-7de5cc5a.js";import{_ as me}from"./AppDateTimePicker-ba3aa1c2.js";import{_ as ve}from"./AppAutocomplete-6b28f386.js";import{_ as pe}from"./AppTextField-69a687db.js";import{V as ce,_ as fe}from"./PledgeEdit-893839a0.js";import{u as be}from"./useApi-a3fc7afe.js";import{c as Ve}from"./createUrl-4bc7136b.js";import{$ as ge}from"./api-685ff73f.js";import{_ as ye}from"./_plugin-vue_export-helper-c27b6911.js";import{V as f}from"./VRow-cfd5c28f.js";import{V as he}from"./VForm-1f059ba2.js";import{V as qe}from"./VDialog-a722b47f.js";import{V as i}from"./VCol-785143ee.js";import{V,b as Ue,c as Ce}from"./VCard-3bc3303e.js";import{V as g}from"./VCardText-75d87fa3.js";import{V as z}from"./VDivider-e33bebdc.js";import{V as we}from"./VTable-36823a50.js";import"./VTextField-f14477a0.js";import"./VImg-b961b6d3.js";import"./forwardRefs-6ea3df5c.js";import"./VSelect-64c654bc.js";import"./VList-1035e3ce.js";import"./VAvatar-449fc9b2.js";import"./VOverlay-d3b76df3.js";import"./VMenu-aa75d60b.js";import"./filter-759bd2ab.js";import"./index-9c720871.js";import"./useAbility-259a9a97.js";const r=M=>(re("data-v-e5336757"),M=M(),de(),M),Ne=r(()=>t("div",{class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},[t("div",{class:"d-flex flex-column justify-center"},[t("h4",{class:"text-h4 font-weight-medium"},"Ajouter un nouveau contrat"),t("span",null,"Contrat pour un Procès verbal")])],-1)),Ie={class:"mt-4 ma-sm-4"},ke={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},De=r(()=>t("div",{class:"d-flex flex-column justify-center"},null,-1)),Me={class:"d-flex gap-4 align-center flex-wrap"},Pe=r(()=>t("strong",null,"Procès verbal:",-1)),Te=r(()=>t("strong",null,"Montant total des intérêts:",-1)),Ae=r(()=>t("strong",null,"Montant transféré fudiciaire:",-1)),je=r(()=>t("strong",null,"Première échéance:",-1)),Re=r(()=>t("strong",null,"Dernière échéance:",-1)),Ee=r(()=>t("strong",null,"Nombre d'échéances:",-1)),Fe=r(()=>t("strong",null,"Montant intercalaire:",-1)),Se=r(()=>t("strong",null,"Montant échéance:",-1)),$e=r(()=>t("strong",null,"Montant dernière échéance:",-1)),Le=r(()=>t("strong",null,"Numéro de prêt:",-1)),Be=r(()=>t("strong",null,"Type:",-1)),Oe=r(()=>t("strong",null,"Avec gage:",-1)),Ge=r(()=>t("h6",{class:"text-subtitle-1 mb-2"},"Informations client",-1)),Ze=r(()=>t("strong",null,"Date de naissance:",-1)),ze=r(()=>t("strong",null,"Lieu de naissance:",-1)),He=r(()=>t("strong",null,"Nationalité:",-1)),Je=r(()=>t("strong",null,"Adresse domicile:",-1)),Ke=r(()=>t("strong",null,"Téléphone:",-1)),Qe=r(()=>t("strong",null,"Type pièce d'identité:",-1)),We=r(()=>t("strong",null,"Numéro pièce d'identité:",-1)),Xe=r(()=>t("strong",null,"Délivrée par:",-1)),Ye=r(()=>t("strong",null,"Date de délivrance:",-1)),xe=r(()=>t("h6",{class:"text-subtitle-1 mb-2"},"Informations société",-1)),el=r(()=>t("strong",null,"Dénomination:",-1)),ll=r(()=>t("strong",null,"Forme juridique:",-1)),al=r(()=>t("strong",null,"Adresse siège social:",-1)),nl=r(()=>t("strong",null,"Numéro RCCM:",-1)),tl=r(()=>t("strong",null,"Téléphone société:",-1)),sl=r(()=>t("strong",null,"NIF:",-1)),ul=r(()=>t("strong",null,"BP:",-1)),il=r(()=>t("strong",null,"Commune:",-1)),rl=r(()=>t("h6",{class:"text-subtitle-1 mb-2"},"Informations entreprise individuelle",-1)),dl=r(()=>t("strong",null,"Dénomination:",-1)),ol=r(()=>t("strong",null,"Adresse siège social:",-1)),_l=r(()=>t("strong",null,"Commune:",-1)),ml=r(()=>t("strong",null,"BP:",-1)),vl=r(()=>t("strong",null,"Numéro RCCM:",-1)),pl=r(()=>t("strong",null,"Numéro NIF:",-1)),cl=r(()=>t("strong",null,"Téléphone:",-1)),fl=r(()=>t("h6",{class:"text-subtitle-1 mb-2"},"Gages",-1)),bl=r(()=>t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Type"),t("th",null,"Montant estimé"),t("th",null,"Marque"),t("th",null,"Immatriculation"),t("th",null,"Commentaire")])],-1)),Vl={__name:"add",async setup(M){let P,E;const F=ne(),H=te(),e=b({verbal_trial_id:null,representative_birth_date:null,date_of_first_echeance:null,date_of_last_echeance:null,representative_birth_place:null,representative_nationality:null,representative_home_address:null,representative_phone_number:null,representative_type_of_identity_document:null,representative_number_of_identity_document:null,representative_date_of_issue_of_identity_document:null,representative_office_delivery:null,total_amount_of_interest:null,number_of_pret:null,montant_fudiciaire:null,due_amount:null,montant_second_ech:null,montant_troisieme_ech:null,number_of_due_dates:null,type:null,has_pledges:null,company_denomination:null,company_legal_status:null,company_head_office_address:null,company_rccm_number:null,company_phone_number:null,company_nif:null,company_bp:null,company_commune:null,individual_business_denomination:null,individual_business_head_office_address:null,individual_business_rccm_number:null,individual_business_nif_number:null,individual_business_civility:null,individual_business_phone_number:null,individual_business_first_name:null,individual_business_last_name:null,individual_business_date_naiss:null,individual_business_lieux_naiss:null,individual_business_nationalite:null,individual_business_home_address:null,individual_business_num_piece:null,individual_business_date_delivrance:null,individual_business_number_phone:null,individual_business_office_delivery:null,individual_business_type_of_identity_document:null,individual_business_bp:null,individual_business_commune:null,pledges:[{type:"vehicle",comment:"",montant_estime:"",marque:"",date_mise_en_circulation:"",date_carte_crise:"",immatriculation:"",nume_serie:"",genre:"",model:""}]}),q=b(""),U=b(""),p=b(null),y=b(null),J=async()=>{if(U.value){const n=await fetch(`/api/clients/search?search=${encodeURIComponent(U.value)}`);if(!n.ok)throw new Error("Erreur lors de la récupération des données");return await n.json()}},K=async()=>{if(q.value){const n=await fetch(`/api/clients/prets?search=${encodeURIComponent(q.value)}`);if(!n.ok)throw new Error("Erreur lors de la récupération des données");return await n.json()}};B(U,async n=>{n?(p.value=await J(),e.value.representative_birth_date=p.value.data.data[0].date_naissance_entrepreneur,e.value.representative_birth_place=p.value.data.data[0].lieu_naissance,e.value.representative_nationality=p.value.data.data[0].no_compte,e.value.representative_number_of_identity_document=p.value.data.data[0].numero_piece_identite,e.value.representative_date_of_issue_of_identity_document=p.value.data.data[0].date_delivrance_piece,e.value.representative_home_address=p.value.data.data[0].adresse_1,e.value.representative_phone_number=p.value.data.data[0].tel_port,e.value.representative_office_delivery=p.value.data.data[0].lieu_delivrance_piece,e.value.individual_business_last_name=p.value.data.data[0].nom_replegal,e.value.individual_business_first_name=p.value.data.data[0].nom_replegal,e.value.individual_business_date_naiss=p.value.data.data[0].date_naissance_entrepreneur,e.value.individual_business_lieux_naiss=p.value.data.data[0].lieu_naissance,e.value.individual_business_date_delivrance=p.value.data.data[0].date_delivrance_piece,e.value.individual_business_num_piece=p.value.data.data[0].numero_piece_identite,e.value.individual_business_home_address=p.value.data.data[0].adr_replegal,e.value.individual_business_number_phone=p.value.data.data[0].tel_port,e.value.company_denomination=p.value.data.data[0].raison_sociale_client,e.value.individual_business_denomination=p.value.data.data[0].raison_sociale_client,e.value.company_head_office_address=p.value.data.data[0].adresse_1,e.value.individual_business_head_office_address=p.value.data.data[0].adresse_1,e.value.individual_business_rccm_number=p.value.data.data[0].numero_piece_identite,e.value.company_rccm_number=p.value.data.data[0].numero_piece_identite,e.value.individual_business_phone_number=p.value.data.data[0].tel_port):p.value=[]}),B(q,async n=>{n?(y.value=await K(),e.value.total_amount_of_interest=y.value.data.data[0].mt_pret_int,e.value.montant_troisieme_ech=y.value.data.data[0].mt_ech_pret,e.value.number_of_due_dates=y.value.data.data[0].nb_ech_pret,e.value.date_of_first_echeance=y.value.data.data[0].d_prem_ech,e.value.date_of_last_echeance=y.value.data.data[0].d_der_ech,e.value.number_of_pret=y.value.data.data[0].no_pret):p.value=[]});const S=()=>({verbal_trial_id:"",representative_birth_date:"",representative_birth_place:"",representative_nationality:"",representative_home_address:"",representative_phone_number:"",date_of_first_echeance:"",date_of_last_echeance:"",representative_type_of_identity_document:"",representative_number_of_identity_document:"",representative_date_of_issue_of_identity_document:"",representative_office_delivery:"",total_amount_of_interest:"",due_amount:"",number_of_due_dates:"",number_of_pret:"",montant_fudiciaire:"",montant_second_ech:"",montant_troisieme_ech:"",type:"",has_pledges:"",company_denomination:"",company_legal_status:"",company_head_office_address:"",company_rccm_number:"",company_phone_number:"",company_nif:"",company_bp:"",company_commune:"",individual_business_denomination:"",individual_business_head_office_address:"",individual_business_rccm_number:"",individual_business_nif_number:"",individual_business_phone_number:"",individual_business_bp:"",individual_business_commune:""}),o=b(S()),{data:Q}=([P,E]=se(()=>be(Ve("/verbal-trial",{query:{has_contract:0,paginate:0,has_mortgage:0,status:"w"}}))),P=await P,E(),P),$=ue(()=>Q.value.data),W=[{value:"company",title:"Société"},{value:"individual_business",title:"Entreprise Individuel"},{value:"particular",title:"Particulier"},{value:"ong",title:"Mutuelles-Association-ONG"},{value:"professions_libérales",title:"Professions libérales"}],X={1:"Avec gage",0:"Sans gage"},Y=[{value:"cni",title:"Carte d'identité nationale"},{value:"passport",title:"Passeport"},{value:"residence_certificate",title:"Certificat de résidence"},{value:"driving_licence",title:"Permis de conduire"},{value:"carte_sej",title:"Carte de séjour"},{value:"recep",title:"Récépissé de la carte nationale d’identité "}],A=b(),C=b(!1),j=b(!1),x=()=>{var n;(n=A.value)==null||n.validate().then(({valid:s})=>{s&&(C.value=!0)})},ee=async()=>{j.value=!0;const n={verbal_trial_id:e.value.verbal_trial_id,representative_birth_date:e.value.representative_birth_date,representative_birth_place:e.value.representative_birth_place,representative_nationality:e.value.representative_nationality,representative_home_address:e.value.representative_home_address,representative_phone_number:e.value.representative_phone_number,number_of_pret:e.value.number_of_pret,montant_fudiciaire:e.value.montant_fudiciaire,montant_second_ech:e.value.montant_second_ech,montant_troisieme_ech:e.value.montant_troisieme_ech,representative_type_of_identity_document:e.value.representative_type_of_identity_document,date_of_first_echeance:e.value.date_of_first_echeance,date_of_last_echeance:e.value.date_of_last_echeance,representative_number_of_identity_document:e.value.representative_number_of_identity_document,representative_office_delivery:e.value.representative_office_delivery,representative_date_of_issue_of_identity_document:e.value.representative_date_of_issue_of_identity_document,total_amount_of_interest:e.value.total_amount_of_interest,due_amount:e.value.due_amount,number_of_due_dates:e.value.number_of_due_dates,type:e.value.type,has_pledges:e.value.has_pledges};e.value.type=="company"?(n.company_denomination=e.value.company_denomination,n.company_legal_status=e.value.company_legal_status,n.company_bp=e.value.company_bp,n.company_nif=e.value.company_nif,n.company_commune=e.value.company_commune,n.company_head_office_address=e.value.company_head_office_address,n.company_rccm_number=e.value.company_rccm_number,n.company_phone_number=e.value.company_phone_number):e.value.type=="individual_business"&&(n.individual_business_denomination=e.value.individual_business_denomination,n.individual_business_head_office_address=e.value.individual_business_head_office_address,n.individual_business_rccm_number=e.value.individual_business_rccm_number,n.individual_business_nif_number=e.value.individual_business_nif_number,n.individual_business_phone_number=e.value.individual_business_phone_number,n.individual_business_bp=e.value.individual_business_bp,n.individual_business_commune=e.value.individual_business_commune),e.value.has_pledges=="1"&&(n.pledges=e.value.pledges);const s=await ge("/contract",{method:"POST",body:n});if(o.value=S(),s.status==201)C.value=!1,H.push("/contract");else if(s!=null&&s.errors)for(const _ in s.errors)s.errors[_].forEach(R=>{o.value[_]+=R+`
`});oe(()=>{var _;(_=A.value)==null||_.resetValidation()}),j.value=!1},le=n=>{e.value.pledges.splice(n,1)},ae=()=>{e.value.pledges.push({type:"vehicule",comment:""})};if(F.query.id){const n=parseInt(F.query.id);$.value.find(s=>s.id==n)&&(e.value.verbal_trial_id=n)}return(n,s)=>{const _=pe,R=ve,T=me,L=_e;return c(),N("div",null,[Ne,l(f,null,{default:a(()=>[l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:U.value,"onUpdate:modelValue":s[0]||(s[0]=u=>U.value=u),label:"Numéro du matricule client"},null,8,["modelValue"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:q.value,"onUpdate:modelValue":s[1]||(s[1]=u=>q.value=u),label:"Numéro du prêt"},null,8,["modelValue"])]),_:1})]),_:1}),l(he,{ref_key:"refForm",ref:A,onSubmit:ie(x,["prevent"])},{default:a(()=>[l(f,null,{default:a(()=>[l(i,{md:"12"},{default:a(()=>[l(V,{class:"mb-6",title:"Information sur contrat"},{default:a(()=>[l(g,null,{default:a(()=>[l(f,null,{default:a(()=>[l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(R,{modelValue:e.value.verbal_trial_id,"onUpdate:modelValue":s[2]||(s[2]=u=>e.value.verbal_trial_id=u),items:m($),"error-messages":o.value.verbal_trial_id,label:"Procès verbal",rules:["requiredValidator"in n?n.requiredValidator:m(v)],"item-title":"label","item-value":"id"},null,8,["modelValue","items","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.total_amount_of_interest,"onUpdate:modelValue":s[3]||(s[3]=u=>e.value.total_amount_of_interest=u),type:"number","error-messages":o.value.total_amount_of_interest,label:"Montant total des intérêts",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.montant_fudiciaire,"onUpdate:modelValue":s[4]||(s[4]=u=>e.value.montant_fudiciaire=u),type:"number","error-messages":o.value.montant_fudiciaire,label:"Montant transfère fudiciaire",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(T,{modelValue:e.value.date_of_first_echeance,"onUpdate:modelValue":s[5]||(s[5]=u=>e.value.date_of_first_echeance=u),"error-messages":o.value.date_of_first_echeance,label:"Date première écheance",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(T,{modelValue:e.value.date_of_last_echeance,"onUpdate:modelValue":s[6]||(s[6]=u=>e.value.date_of_last_echeance=u),"error-messages":o.value.date_of_last_echeance,label:"Date dernière écheance",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"4",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.number_of_due_dates,"onUpdate:modelValue":s[7]||(s[7]=u=>e.value.number_of_due_dates=u),type:"number","error-messages":o.value.number_of_due_dates,label:"Nombre d'échéance",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"4",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.due_amount,"onUpdate:modelValue":s[8]||(s[8]=u=>e.value.due_amount=u),type:"number","error-messages":o.value.due_amount,label:"Montant intercalaire",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"4",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.montant_second_ech,"onUpdate:modelValue":s[9]||(s[9]=u=>e.value.montant_second_ech=u),type:"number","error-messages":o.value.montant_second_ech,label:"Montant echéance",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"4",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.montant_troisieme_ech,"onUpdate:modelValue":s[10]||(s[10]=u=>e.value.montant_troisieme_ech=u),type:"number","error-messages":o.value.montant_troisieme_ech,label:"Montant dernière échéance",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"4",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.number_of_pret,"onUpdate:modelValue":s[11]||(s[11]=u=>e.value.number_of_pret=u),"error-messages":o.value.number_of_pret,label:"Numéro de prêt",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"4",lg:"4"},{default:a(()=>[l(L,{modelValue:e.value.type,"onUpdate:modelValue":s[12]||(s[12]=u=>e.value.type=u),items:W,"error-messages":o.value.type,label:"Type",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"2"},{default:a(()=>[l(ce,{modelValue:e.value.has_pledges,"onUpdate:modelValue":s[13]||(s[13]=u=>e.value.has_pledges=u),"true-value":"1","false-value":"0",label:X[e.value.has_pledges],"error-messages":o.value.has_pledges,"true-icon":"tabler-check","false-icon":"tabler-circle-x",color:"success"},null,8,["modelValue","label","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e.value.has_pledges=="1"?(c(),I(V,{key:0,class:"mb-6",title:"Informations sur les gages"},{default:a(()=>[l(g,{class:"add-products-form"},{default:a(()=>[(c(!0),N(O,null,G(e.value.pledges,(u,w)=>(c(),N("div",{key:w,class:"my-4 ma-sm-4"},[l(fe,{id:w,data:u,onRemovePledge:le},null,8,["id","data"])]))),128)),t("div",Ie,[l(k,{"prepend-icon":"tabler-plus",onClick:ae},{default:a(()=>[h(" Ajouter ")]),_:1})])]),_:1})]),_:1})):D("",!0),l(V,{class:"mb-6",title:"Information sur le client"},{default:a(()=>[l(g,null,{default:a(()=>[l(f,null,{default:a(()=>[l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(T,{modelValue:e.value.representative_birth_date,"onUpdate:modelValue":s[14]||(s[14]=u=>e.value.representative_birth_date=u),"error-messages":o.value.representative_birth_date,label:"Date de naissance",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.representative_birth_place,"onUpdate:modelValue":s[15]||(s[15]=u=>e.value.representative_birth_place=u),"error-messages":o.value.representative_birth_place,label:"Lieu de naissance",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.representative_nationality,"onUpdate:modelValue":s[16]||(s[16]=u=>e.value.representative_nationality=u),"error-messages":o.value.representative_nationality,label:"Nationalité",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.representative_home_address,"onUpdate:modelValue":s[17]||(s[17]=u=>e.value.representative_home_address=u),"error-messages":o.value.representative_home_address,label:"Addresse du domicile",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(L,{modelValue:e.value.representative_type_of_identity_document,"onUpdate:modelValue":s[18]||(s[18]=u=>e.value.representative_type_of_identity_document=u),items:Y,"error-messages":o.value.representative_type_of_identity_document,label:"Type de la pièce d'identité",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.representative_number_of_identity_document,"onUpdate:modelValue":s[19]||(s[19]=u=>e.value.representative_number_of_identity_document=u),"error-messages":o.value.representative_number_of_identity_document,label:"Numéro de la pièce d'identité",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"4"},{default:a(()=>[l(_,{modelValue:e.value.representative_office_delivery,"onUpdate:modelValue":s[20]||(s[20]=u=>e.value.representative_office_delivery=u),"error-messages":o.value.representative_office_delivery,label:"Delivré par",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(T,{modelValue:e.value.representative_date_of_issue_of_identity_document,"onUpdate:modelValue":s[21]||(s[21]=u=>e.value.representative_date_of_issue_of_identity_document=u),"error-messages":o.value.representative_date_of_issue_of_identity_document,label:"Date de délivrance de la pièce d'identité",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.representative_phone_number,"onUpdate:modelValue":s[22]||(s[22]=u=>e.value.representative_phone_number=u),"error-messages":o.value.representative_phone_number,label:"Numéro de téléphone",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),e.value.type=="company"||e.value.type=="professions_libérales"||e.value.type=="ong"?(c(),I(V,{key:1,class:"mb-6",title:"Information sur la société"},{default:a(()=>[l(g,null,{default:a(()=>[l(f,{cols:"12"},{default:a(()=>[l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.company_denomination,"onUpdate:modelValue":s[23]||(s[23]=u=>e.value.company_denomination=u),"error-messages":o.value.company_denomination,label:"Dénomination",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.company_legal_status,"onUpdate:modelValue":s[24]||(s[24]=u=>e.value.company_legal_status=u),"error-messages":o.value.company_legal_status,label:"Forme juridique",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.company_rccm_number,"onUpdate:modelValue":s[25]||(s[25]=u=>e.value.company_rccm_number=u),"error-messages":o.value.company_rccm_number,label:"Numero RCCM",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.company_phone_number,"onUpdate:modelValue":s[26]||(s[26]=u=>e.value.company_phone_number=u),"error-messages":o.value.company_phone_number,label:"Telephone de la société",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[l(_,{modelValue:e.value.company_bp,"onUpdate:modelValue":s[27]||(s[27]=u=>e.value.company_bp=u),"error-messages":o.value.company_bp,label:"BP",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[l(_,{modelValue:e.value.company_commune,"onUpdate:modelValue":s[28]||(s[28]=u=>e.value.company_commune=u),"error-messages":o.value.company_commune,label:"Commune",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[l(_,{modelValue:e.value.company_nif,"onUpdate:modelValue":s[29]||(s[29]=u=>e.value.company_nif=u),"error-messages":o.value.company_nif,label:"NIF",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12"},{default:a(()=>[l(_,{modelValue:e.value.company_head_office_address,"onUpdate:modelValue":s[30]||(s[30]=u=>e.value.company_head_office_address=u),"error-messages":o.value.company_head_office_address,label:"Addresse du siège social",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0),e.value.type=="individual_business"?(c(),I(V,{key:2,class:"mb-6",title:"Information sur l'entreprise individuele"},{default:a(()=>[l(g,null,{default:a(()=>[l(f,{cols:"12"},{default:a(()=>[l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.individual_business_denomination,"onUpdate:modelValue":s[31]||(s[31]=u=>e.value.individual_business_denomination=u),"error-messages":o.value.individual_business_denomination,label:"Dénomination",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.individual_business_head_office_address,"onUpdate:modelValue":s[32]||(s[32]=u=>e.value.individual_business_head_office_address=u),"error-messages":o.value.individual_business_head_office_address,label:"Addresse du siège social",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.individual_business_commune,"onUpdate:modelValue":s[33]||(s[33]=u=>e.value.individual_business_commune=u),"error-messages":o.value.individual_business_commune,label:"Commune",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.individual_business_bp,"onUpdate:modelValue":s[34]||(s[34]=u=>e.value.individual_business_bp=u),"error-messages":o.value.individual_business_bp,label:"BP",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.individual_business_rccm_number,"onUpdate:modelValue":s[35]||(s[35]=u=>e.value.individual_business_rccm_number=u),"error-messages":o.value.individual_business_rccm_number,label:"Numero RCCM",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.individual_business_nif_number,"onUpdate:modelValue":s[36]||(s[36]=u=>e.value.individual_business_nif_number=u),"error-messages":o.value.individual_business_nif_number,label:"Numero NIF",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1}),l(i,{cols:"12",md:"6",lg:"6"},{default:a(()=>[l(_,{modelValue:e.value.individual_business_phone_number,"onUpdate:modelValue":s[37]||(s[37]=u=>e.value.individual_business_phone_number=u),"error-messages":o.value.individual_business_phone_number,label:"Telephone de la société",rules:["requiredValidator"in n?n.requiredValidator:m(v)]},null,8,["modelValue","error-messages","rules"])]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0)]),_:1}),l(i,{cols:"12"},{default:a(()=>[t("div",ke,[De,t("div",Me,[l(k,{type:"reset",variant:"tonal",color:"primary"},{default:a(()=>[l(Z,{start:"",icon:"tabler-circle-minus"}),h(" Effacer ")]),_:1}),l(k,{type:"submit",class:"me-3"},{default:a(()=>[h(" Enregistrer "),l(Z,{end:"",icon:"tabler-checkbox"})]),_:1})])])]),_:1})]),_:1})]),_:1},512),l(qe,{modelValue:C.value,"onUpdate:modelValue":s[39]||(s[39]=u=>C.value=u),"max-width":"900"},{default:a(()=>[l(V,null,{default:a(()=>[l(Ue,{class:"text-h6"},{default:a(()=>[h("Récapitulatif du contrat")]),_:1}),l(g,null,{default:a(()=>[l(f,{class:"mb-2"},{default:a(()=>[l(i,{cols:"12",md:"6"},{default:a(()=>[Pe,t("div",null,d(e.value.verbal_trial_id),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Te,t("div",null,d(e.value.total_amount_of_interest),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Ae,t("div",null,d(e.value.montant_fudiciaire),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[je,t("div",null,d(e.value.date_of_first_echeance),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Re,t("div",null,d(e.value.date_of_last_echeance),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Ee,t("div",null,d(e.value.number_of_due_dates),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Fe,t("div",null,d(e.value.due_amount),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Se,t("div",null,d(e.value.montant_second_ech),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[$e,t("div",null,d(e.value.montant_troisieme_ech),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Le,t("div",null,d(e.value.number_of_pret),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Be,t("div",null,d(e.value.type),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Oe,t("div",null,d(e.value.has_pledges=="1"?"Oui":"Non"),1)]),_:1})]),_:1}),l(z,{class:"my-4"}),Ge,l(f,{class:"mb-2"},{default:a(()=>[l(i,{cols:"12",md:"6"},{default:a(()=>[Ze,t("div",null,d(e.value.representative_birth_date),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[ze,t("div",null,d(e.value.representative_birth_place),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[He,t("div",null,d(e.value.representative_nationality),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Je,t("div",null,d(e.value.representative_home_address),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Ke,t("div",null,d(e.value.representative_phone_number),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Qe,t("div",null,d(e.value.representative_type_of_identity_document),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[We,t("div",null,d(e.value.representative_number_of_identity_document),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Xe,t("div",null,d(e.value.representative_office_delivery),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[Ye,t("div",null,d(e.value.representative_date_of_issue_of_identity_document),1)]),_:1})]),_:1}),e.value.type=="company"||e.value.type=="professions_libérales"||e.value.type=="ong"?(c(),I(V,{key:0,variant:"tonal",class:"mb-4"},{default:a(()=>[l(g,null,{default:a(()=>[xe,l(f,null,{default:a(()=>[l(i,{cols:"12",md:"6"},{default:a(()=>[el,t("div",null,d(e.value.company_denomination),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[ll,t("div",null,d(e.value.company_legal_status),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[al,t("div",null,d(e.value.company_head_office_address),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[nl,t("div",null,d(e.value.company_rccm_number),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[tl,t("div",null,d(e.value.company_phone_number),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[sl,t("div",null,d(e.value.company_nif),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[ul,t("div",null,d(e.value.company_bp),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[il,t("div",null,d(e.value.company_commune),1)]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0),e.value.type=="individual_business"?(c(),I(V,{key:1,variant:"tonal"},{default:a(()=>[l(g,null,{default:a(()=>[rl,l(f,null,{default:a(()=>[l(i,{cols:"12",md:"6"},{default:a(()=>[dl,t("div",null,d(e.value.individual_business_denomination),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[ol,t("div",null,d(e.value.individual_business_head_office_address),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[_l,t("div",null,d(e.value.individual_business_commune),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[ml,t("div",null,d(e.value.individual_business_bp),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[vl,t("div",null,d(e.value.individual_business_rccm_number),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[pl,t("div",null,d(e.value.individual_business_nif_number),1)]),_:1}),l(i,{cols:"12",md:"6"},{default:a(()=>[cl,t("div",null,d(e.value.individual_business_phone_number),1)]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0),l(z,{class:"my-4"}),fl,l(we,{density:"compact"},{default:a(()=>[bl,t("tbody",null,[(c(!0),N(O,null,G(e.value.pledges||[],(u,w)=>(c(),N("tr",{key:w},[t("td",null,d(w+1),1),t("td",null,d(u.type),1),t("td",null,d(u.montant_estime??"-"),1),t("td",null,d(u.marque??"-"),1),t("td",null,d(u.immatriculation??"-"),1),t("td",null,d(u.comment??"-"),1)]))),128))])]),_:1})]),_:1}),l(Ce,{class:"justify-end"},{default:a(()=>[l(k,{variant:"tonal",color:"secondary",onClick:s[38]||(s[38]=u=>C.value=!1)},{default:a(()=>[h(" Modifier ")]),_:1}),l(k,{color:"primary",loading:j.value,onClick:ee},{default:a(()=>[h(" Confirmer et enregistrer ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Ql=ye(Vl,[["__scopeId","data-v-e5336757"]]);export{Ql as default};
