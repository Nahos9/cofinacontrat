import{r as T,ai as C,E as N,aa as g,o as m,f as u,e as n,b as o,M as r,a2 as z,s as t,N as d,c as _,d as V,a3 as c}from"./main-46a0c5a9.js";import{a as B}from"./axios-1779699b.js";import{V as M}from"./VRow-488997f5.js";import{V as w,b as E}from"./VCard-8818643c.js";import{V as R}from"./VCardText-f76baed7.js";import{V as q}from"./VForm-688a67df.js";import{V as p}from"./VSelect-f97bd02e.js";import{V as s}from"./VTextField-1e15a30a.js";import{V as A}from"./VCol-da704454.js";import"./VAvatar-de3ccc2c.js";import"./VImg-1082f317.js";import"./forwardRefs-6ea3df5c.js";import"./VList-139817d9.js";import"./VDivider-ea070f60.js";import"./VOverlay-0594322e.js";import"./VMenu-6d187744.js";const F={key:1,class:"d-flex gap-2 mb-2"},S={key:2,class:"mb-2"},$={class:"d-flex gap-2 mb-2"},h={class:"d-flex gap-2"},ae={__name:"add",setup(D){const e=T({last_name:"",first_name:"",email:"",phone:"",account_number:"",date_de_creation_compte:"",montant_endettement:"",type_attestation:"",type:""}),f=C.useToast(),b=N(),y=["personne physique","personne morale"],v=["main levée de gage","cloture","endettement","non endettement"],x=["Monsieur","Madame"],U=g("userToken"),k=async()=>{try{await B.post("/api/attestation",{last_name:e.value.last_name,first_name:e.value.first_name,civilite:e.value.civilite,raison_sociale:e.value.raison_sociale,email:e.value.email,phone:e.value.phone,account_number:e.value.account_number,date_de_creation_compte:e.value.date_de_creation_compte,type:e.value.type,type_attestation:e.value.type_attestation,montant_endettement:e.value.montant_endettement},{headers:{Authorization:`Bearer ${U.value}`}}).then(i=>{if(i.status==200){let a=f.success("Attestation créée!!",{position:"top-right"});b.push("/attestation"),e.value={last_name:"",first_name:"",civilite:"",raison_sociale:"",email:"",phone:"",account_number:"",date_de_creation_compte:"",type:"",type_attestation:"",montant_endettement:""}}})}catch(i){console.log(i)}};return(i,a)=>(m(),u(M,null,{default:n(()=>[o(A,{cols:"12"},{default:n(()=>[o(w,null,{default:n(()=>[o(E,null,{default:n(()=>[r("Nouvelle attestation")]),_:1}),o(R,null,{default:n(()=>[o(q,{onSubmit:z(k,["prevent"])},{default:n(()=>[o(p,{class:"z-index-1000 mb-2",label:"Type",modelValue:t(e).type,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).type=l),items:y},null,8,["modelValue"]),o(p,{class:"z-index-40 mb-2",label:"Type d'attestation",modelValue:t(e).type_attestation,"onUpdate:modelValue":a[1]||(a[1]=l=>t(e).type_attestation=l),items:v},null,8,["modelValue"]),t(e).type=="personne physique"?(m(),u(p,{key:0,class:"z-index-40 mb-2",label:"Civilité",modelValue:t(e).civilite,"onUpdate:modelValue":a[2]||(a[2]=l=>t(e).civilite=l),items:x},null,8,["modelValue"])):d("",!0),t(e).type=="personne physique"?(m(),_("div",F,[o(s,{label:"Nom",modelValue:t(e).last_name,"onUpdate:modelValue":a[3]||(a[3]=l=>t(e).last_name=l)},null,8,["modelValue"]),o(s,{label:"Prénom",modelValue:t(e).first_name,"onUpdate:modelValue":a[4]||(a[4]=l=>t(e).first_name=l)},null,8,["modelValue"])])):d("",!0),t(e).type=="personne morale"?(m(),_("div",S,[o(s,{label:"Raison sociale",modelValue:t(e).raison_sociale,"onUpdate:modelValue":a[5]||(a[5]=l=>t(e).raison_sociale=l)},null,8,["modelValue"])])):d("",!0),V("div",$,[o(s,{label:"Email",modelValue:t(e).email,"onUpdate:modelValue":a[6]||(a[6]=l=>t(e).email=l)},null,8,["modelValue"]),o(s,{label:"Téléphone",modelValue:t(e).phone,"onUpdate:modelValue":a[7]||(a[7]=l=>t(e).phone=l)},null,8,["modelValue"])]),o(s,{label:"Numéro de compte",class:"mb-2",modelValue:t(e).account_number,"onUpdate:modelValue":a[8]||(a[8]=l=>t(e).account_number=l)},null,8,["modelValue"]),t(e).type_attestation=="endettement"?(m(),u(s,{key:3,label:"Montant d'endettement",class:"mb-2",modelValue:t(e).montant_endettement,"onUpdate:modelValue":a[9]||(a[9]=l=>t(e).montant_endettement=l)},null,8,["modelValue"])):d("",!0),o(s,{type:"date",class:"mb-2",label:"Date de création du compte",modelValue:t(e).date_de_creation_compte,"onUpdate:modelValue":a[10]||(a[10]=l=>t(e).date_de_creation_compte=l)},null,8,["modelValue"]),V("div",h,[o(c,{type:"submit",class:"z-index-1000 mb-2"},{default:n(()=>[r("Créer")]),_:1}),o(c,{type:"reset",class:"z-index-1000 mb-2"},{default:n(()=>[r("Réinitialiser")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ae as default};
