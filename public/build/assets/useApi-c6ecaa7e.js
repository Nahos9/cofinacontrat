import{an as c,aa as t,ao as n}from"./main-f3e13a8f.js";const u=c({baseUrl:"/api",fetchOptions:{headers:{Accept:"application/json"}},options:{refetch:!0,async beforeFetch({options:e}){const r=t("userToken").value;return r&&(e.headers={...e.headers,Authorization:`Bearer ${r}`}),{options:e}},async afterFetch(e){const{data:r,response:s}=e;let a=null;try{a=n(r)}catch(o){console.error(o)}return{data:a,response:s}},async onFetchError(e){const{data:r,response:s}=e;let a=null;try{a=n(r)}catch(o){console.error(o)}s.status==401&&(t("userToken").value=null,t("userData").value=null,t("userAbilityRules").value=null,window.location.href="/login")}}});export{u};
